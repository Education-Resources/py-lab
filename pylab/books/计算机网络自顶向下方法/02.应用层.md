## 应用层

应用层是我们学习协议非常好的起点，有助于我们认知协议有关知识

### 应用层协议原理

研发网络应用程序的核心是什么？

是写出能够运行在不同的端系统和通过网络彼此通信的程序，比如：

- 运行在用户主机的浏览器程序
- 运行在Web服务器主机上的Web服务器程序
- P2P文件共享系统

从这里就能看出分层的体系结构带来的好处，对于上面的需求，首先就能将应用软件限制在端系统上，也就是应用层，这样促进了应用程序的快速开发和部署

![](https://raw.githubusercontent.com/howie6879/howie6879.github.io/img/pictures/20190531092553.png)

#### 网络应用程序体系结构

当进行软件编码前，应当对应用程序有一个宽泛的体系结构计划，现代网络应用程序中经常使用两种主流的体系结构：

- 客户-服务器体系结构
- 对等（P2P）结构

![](https://raw.githubusercontent.com/howie6879/howie6879.github.io/img/pictures/20190531095640.png)

#### 进程通信

我们不怎么关注同一台主机上的进程间的通信，而关注运行在不同端系统上的进程间的通信（通过跨越计算机网络交换报文），网络应用程序通过成对的进程组成，这些进程通过网络相互发送报文

- 客户和服务器进程：在给定的一对进程之间的通信会话场景中，发起通信（即在该回话开始时发起与其他进程的联系）的进程被标志位客户，在会话开始时等待联系的进程是服务器
- 进程与计算机网络之间的接口：进程通过一个称为**套接字（socket）**的软件接口向网络发送报文和从网络接收报文，套接字是同一台主机内应用层同运输层之间的接口。由于套接字是建立网络应用程序的可编程接口，因此套接字也称为应用程序和网络之间的**应用程序编程接口**，应用程序开发者对于运输层的控制权仅限于：
    - 选择运输层协议
    - 也许能设定几个运输层参数，如最大缓存和最大报文段长度等
- 进程寻址：一台主机上运行的进程为了向在另一台主机上运行的进行发送分组，接收进程需要一个地址。为了标识该接收进程，需要定义两种信息：
    - 主机的地址
    - 定义在目的主机中的接收进程的标识符

![](https://raw.githubusercontent.com/howie6879/howie6879.github.io/img/pictures/20190531102139.png)

#### 可供应用程序使用的运输服务

前面讲过套接字是应用程序进程和运输层协议之间的接口，一个运输层协议能够为调用它的应用程序提供什么样的服务呢？可以从四个方面对应用程序服务要求分类：

- 可靠数据传输
- 吞吐量
- 定时
- 安全性

#### 因特网提供的运输服务

![](https://raw.githubusercontent.com/howie6879/howie6879.github.io/img/pictures/20190531103632.png)

- TCP服务：
    - 面向连接的服务
    - 可靠的数据传送服务

#### 应用层协议

#### 本书涉及的网络应用